{% extends "base.html" %}
{% block title %}{{ doc.title }}{% endblock %}
{% block content %}
    <div class="container py-4">
        <h1 class="h4 mb-3">{{ doc.title }}</h1>

        <div class="ratio ratio-16x9 border rounded">
            <iframe
                    src="{{ pdf_url }}"
                    title="aperçu du document"
                    loading="lazy"
                    class="w-100 h-100 border-0"></iframe>
        </div>

        <p class="mt-2">
            <a href="{{ pdf_url }}" target="_blank" rel="noopener">ouvrir dans un nouvel onglet</a>
            <span class="text-muted ms-2">({{ doc.size_bytes|filesizeformat }})</span>
        </p>

        <dl class="row small text-muted">
            <dt class="col-sm-3">année</dt>
            <dd class="col-sm-9">{{ doc.year }}</dd>
            <dt class="col-sm-3">niveau</dt>
            <dd class="col-sm-9">{{ doc.level }}</dd>
            <dt class="col-sm-3">thème</dt>
            <dd class="col-sm-9">{{ doc.theme }}</dd>
            <dt class="col-sm-3">fichier</dt>
            <dd class="col-sm-9">{{ doc.slug }}.pdf</dd>
        </dl>

        {% if attachments %}
            <hr class="my-4">
            <h2 class="h5 mb-3">fichiers à télécharger</h2>
            <ul class="list-unstyled">
                {% for f in attachments %}
                    <li class="mb-1">
                        <a href="{{ f.url }}" download>{{ f.name }}</a>
                        <small class="text-muted">({{ f.size|filesizeformat }})</small>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}
